{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { SearchBar, Text, Button } from 'react-native-elements';\nimport React, { useState, useEffect } from 'react';\nimport MySearchLayout from \"../components/MySearchLayout\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Search(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoaded = _useState4[0],\n      setIsLoaded = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dataResult = _useState6[0],\n      setDataResult = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      searchTerm = _useState8[0],\n      setSearchTerm = _useState8[1];\n\n  var updateSearch = function updateSearch(search) {\n    setSearchTerm(search);\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.topBarContainer,\n      children: [_jsx(Text, {\n        children: \"Type in a letter to look for recipes!\"\n      }), _jsx(SearchBar, {\n        inputContainerStyle: styles.searchInputContainer,\n        containerStyle: styles.searchContainer,\n        placeholder: \"Search recipes by first letter...\",\n        onChangeText: updateSearch,\n        value: searchTerm\n      }), _jsx(Button, {\n        title: 'Search',\n        onPress: onSearchPressed,\n        buttonStyle: {\n          backgroundColor: '#F9BC60',\n          borderRadius: 25\n        },\n        containerStyle: {\n          width: 150\n        },\n        titleStyle: {\n          color: 'white',\n          fontFamily: 'Roboto_400Regular'\n        }\n      })]\n    }), displayRecipeContainer(error, isLoaded, dataResult, navigation)]\n  });\n}\n\nfunction displayRecipeContainer(error, isLoaded, dataResult, navigation) {\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsx(MySearchLayout, {\n      itemData: item,\n      navigatorRef: navigation\n    });\n  };\n\n  if (error) {\n    return _jsx(View, {\n      children: _jsxs(Text, {\n        children: [\"Error: \", error.message]\n      })\n    });\n  } else if (!isLoaded) {\n    return _jsxs(View, {\n      children: [_jsx(Text, {\n        children: \"Mixing...\"\n      }), _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#ffffff\"\n      })]\n    });\n  } else if (dataResult.meals === undefined) {\n    return _jsx(View, {\n      children: _jsx(Text, {\n        children: \"There are no records found for this search\"\n      })\n    });\n  } else {\n    return _jsx(ScrollView, {\n      children: _jsx(FlatList, {\n        data: dataResult.meals,\n        renderItem: renderItem,\n        keyExtractor: function keyExtractor(item) {\n          return item.idMeal;\n        }\n      })\n    });\n  }\n}\n\nfunction onSearchPressed(searchTerm, setIsLoaded, setDataResult) {\n  fetch('https://www.themealdb.com/api/json/v1/1/search.php?f' + searchTerm).then(function (res) {\n    return res.json();\n  }).then(function (result) {\n    setIsLoaded(true);\n    setDataResult(result);\n  }, function (error) {\n    setIsLoaded(true);\n    setError(error);\n  });\n}\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F6F0EE',\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  heading: {\n    textAlign: \"center\",\n    marginTop: 25,\n    fontSize: 30,\n    fontFamily: 'Sriracha_400Regular'\n  },\n  topBarContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    marginTop: 15\n  },\n  searchContainer: {\n    backgroundColor: \"transparent\",\n    height: 20,\n    border: \"none\",\n    alignItems: \"center\",\n    marginBottom: 40,\n    marginTop: 0,\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  },\n  searchInputContainer: {\n    height: 30,\n    width: 300,\n    backgroundColor: '#D9D9D9',\n    borderRadius: 25\n  },\n  randomize: {\n    width: 100,\n    marginTop: 0,\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    marginBottom: 20\n  },\n  text: {\n    color: '#2C2A31',\n    fontSize: 18,\n    marginTop: 10,\n    marginBottom: 10,\n    fontFamily: 'Roboto_400Regular',\n    flex: 1,\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"names":["SearchBar","Text","Button","React","useState","useEffect","MySearchLayout","Search","navigation","error","setError","isLoaded","setIsLoaded","dataResult","setDataResult","searchTerm","setSearchTerm","updateSearch","search","styles","container","topBarContainer","searchInputContainer","searchContainer","onSearchPressed","backgroundColor","borderRadius","width","color","fontFamily","displayRecipeContainer","renderItem","item","message","meals","undefined","idMeal","fetch","then","res","json","result","StyleSheet","create","flex","alignItems","justifyContent","heading","textAlign","marginTop","fontSize","display","flexDirection","height","border","marginBottom","marginLeft","marginRight","randomize","text"],"sources":["C:/Users/miche/OneDrive/Documents/GitHub/good-thoup-app/screens/SearchScreen.js"],"sourcesContent":["/**\r\n * - This view will load details for a list of recipes that start with the letter a\r\n * - Only shows ones that start with the letter A since we don't want to call every letter in the alphabet yet to make the file size too large\r\n * \r\n */\r\n import { StyleSheet, View, FlatList, ActivityIndicator, ScrollView} from 'react-native';\r\n \r\n import { SearchBar, Text, Button} from 'react-native-elements';\r\n \r\n import React, { useState, useEffect } from 'react';\r\n\r\n import MySearchLayout from '../components/MySearchLayout';\r\n \r\n export default function Search({ navigation }) {\r\n\r\n    // add the three useState for the fetch process\r\n    const [error, setError] = useState(null);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [dataResult, setDataResult] = useState([]);\r\n    // gets state for the search bar\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    \r\n    // updates the search bar as user types \r\n    const updateSearch = (search) => {\r\n    setSearchTerm(search);\r\n    };\r\n\r\n   return (\r\n       <View style={styles.container}>\r\n        <View style={styles.topBarContainer}>\r\n                <Text >Type in a letter to look for recipes!</Text>\r\n                <SearchBar \r\n                    inputContainerStyle={styles.searchInputContainer}\r\n                    containerStyle={styles.searchContainer}\r\n                    placeholder=\"Search recipes by first letter...\"\r\n                    onChangeText={updateSearch}\r\n                    value={searchTerm}\r\n                />\r\n                <Button \r\n                title={'Search'}\r\n                onPress={onSearchPressed} \r\n                buttonStyle={{backgroundColor:'#F9BC60', borderRadius: 25,}}\r\n                containerStyle={{\r\n                    width: 150,\r\n                }}\r\n                titleStyle={{\r\n                    color: 'white',\r\n                    fontFamily: 'Roboto_400Regular'\r\n                }}\r\n                />\r\n             </View>\r\n             {displayRecipeContainer(error, isLoaded, dataResult, navigation)}\r\n         </View>\r\n   );\r\n }\r\n\r\n function displayRecipeContainer(error, isLoaded, dataResult, navigation) {\r\n\r\n\r\n  const renderItem = ({ item }) => (\r\n    <MySearchLayout itemData={item} navigatorRef={navigation}/>\r\n  );\r\n\r\n  if (error) {\r\n    // show an error message\r\n    return (\r\n      <View>\r\n        <Text>Error: {error.message}</Text>\r\n      </View>\r\n    );\r\n   }\r\n   else if (!isLoaded) {\r\n    // show the ActivityIndicator (spinner)\r\n    return (\r\n      <View>\r\n        <Text>Mixing...</Text>\r\n        <ActivityIndicator size=\"large\" color=\"#ffffff\"/>\r\n      </View>\r\n    );\r\n   }\r\n   else if (dataResult.meals === undefined) {\r\n    // not an error but no meals, so show a message\r\n    return (\r\n      <View>\r\n        <Text>There are no records found for this search</Text>\r\n      </View>\r\n    );\r\n   }\r\n   else {\r\n    // show the data in the flat list and display it on the MyRecipeItem.js screen\r\n    return (\r\n      <ScrollView>\r\n         {/* search bar  */}\r\n             <FlatList\r\n              data={dataResult.meals}\r\n              renderItem={renderItem}\r\n              keyExtractor={item => item.idMeal}\r\n      />\r\n      </ScrollView>\r\n    );\r\n   }\r\n }\r\n\r\n function onSearchPressed(searchTerm, setIsLoaded, setDataResult) {\r\n    // add useEffect for the fetch process \r\n    \r\n        // API call for recipes that start with the letter A\r\n          fetch('https://www.themealdb.com/api/json/v1/1/search.php?f' + searchTerm)\r\n          .then(res => res.json())\r\n          .then(\r\n            (result) => {\r\n              // successful load\r\n              setIsLoaded(true);\r\n              setDataResult(result);\r\n            },\r\n            (error) => {\r\n              // handle errors here\r\n              setIsLoaded(true);\r\n              setError(error);        \r\n            }\r\n          )\r\n }\r\n\r\n \r\n const styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#F6F0EE',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n  },\r\n  heading: {\r\n   textAlign: \"center\",\r\n   marginTop: 25,\r\n   fontSize: 30,\r\n   fontFamily: 'Sriracha_400Regular',\r\n },\r\n  topBarContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    marginTop: 15,\r\n  },\r\n  searchContainer: {\r\n    backgroundColor: \"transparent\",\r\n    height: 20,\r\n    border: \"none\",\r\n    alignItems: \"center\",\r\n    marginBottom: 40,\r\n    marginTop: 0,\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n  },\r\n  searchInputContainer: {\r\n    height: 30,\r\n    width: 300,\r\n    backgroundColor: '#D9D9D9',\r\n    borderRadius: 25,\r\n  },\r\n  randomize:{\r\n    width: 100,\r\n    marginTop: 0,\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    marginBottom: 20,\r\n  }, \r\n  text: {\r\n    color: '#2C2A31',\r\n    fontSize: 18,\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    fontFamily: 'Roboto_400Regular',\r\n    flex: 1,\r\n    justifyContent: 'center'\r\n  }\r\n });"],"mappings":"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"},"metadata":{},"sourceType":"module"}