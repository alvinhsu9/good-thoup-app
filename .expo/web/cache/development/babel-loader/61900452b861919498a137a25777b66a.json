{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Card } from 'react-native-elements';\nimport { getFavArray } from \"../services/FavouritesManager\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Favourites(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var currUser = route.params.currUser;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoaded = _useState4[0],\n      setIsLoaded = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dataResult = _useState6[0],\n      setDataResult = _useState6[1];\n\n  useEffect(function () {\n    getFavArray(currUser).then(function (result) {\n      if (result !== undefined) {\n        console.log(result);\n      } else {\n        setDataResult([]);\n      }\n    }, function (error) {\n      console.log('error: ' + error);\n    });\n  });\n  return _jsx(View, {\n    children: _jsx(Text, {\n      children: \"Favourites Screen\"\n    })\n  });\n}\n\nfunction displayRecipe(error, isLoaded, dataResult, navigation) {\n  var renderItem = function renderItem(item) {\n    _jsx(CategoryLayout, {\n      itemData: item,\n      navigatorRef: navigation\n    });\n  };\n\n  if (error) {\n    return _jsx(View, {\n      children: _jsxs(Text, {\n        children: [\"Error: \", error.message]\n      })\n    });\n  } else if (!isLoaded) {\n    return _jsxs(View, {\n      children: [_jsx(Text, {\n        children: \"Preparing...\"\n      }), _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#ffffff\"\n      })]\n    });\n  } else if (dataResult === []) {\n    return _jsx(View, {\n      children: _jsx(Text, {\n        children: \"There are no records found for this search\"\n      })\n    });\n  } else {\n    return _jsx(ScrollView, {\n      children: _jsx(View, {\n        style: styles.container,\n        children: _jsx(FlatList, {\n          data: dataResult,\n          renderItem: renderItem,\n          keyExtractor: function keyExtractor(item) {\n            return item.id;\n          }\n        })\n      })\n    });\n  }\n}","map":{"version":3,"names":["useEffect","useState","Card","getFavArray","Favourites","route","navigation","currUser","params","error","setError","isLoaded","setIsLoaded","dataResult","setDataResult","then","result","undefined","console","log","displayRecipe","renderItem","item","message","styles","container","id"],"sources":["C:/Users/miche/OneDrive/Documents/GitHub/good-thoup-app/screens/FavouritesScreen.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport {View, Button, Text, ActivityIndicator} from 'react-native';\r\nimport {Card} from 'react-native-elements';\r\nimport { getFavArray } from '../services/FavouritesManager';\r\n\r\nexport default function Favourites({route, navigation}) {\r\n\r\n    const { currUser } = route.params;\r\n    \r\n    const [error, setError] = useState(null);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [dataResult, setDataResult] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        getFavArray(currUser)\r\n        .then (\r\n            (result) => {\r\n                if(result !== undefined) {\r\n                    console.log(result)\r\n                    // setDataResult(arrFav);\r\n                } else {\r\n                    setDataResult([]);\r\n                }\r\n            },\r\n            (error) => {\r\n                console.log('error: ' + error);\r\n            }\r\n\r\n        )\r\n    })\r\n\r\n    return(\r\n        <View>\r\n            <Text>Favourites Screen</Text>\r\n        </View>\r\n    )\r\n\r\n}\r\n\r\nfunction displayRecipe(error, isLoaded, dataResult, navigation) {\r\n    const renderItem = (item) => {\r\n        <CategoryLayout itemData={item} navigatorRef={navigation}/> \r\n    }\r\n\r\n    if (error) {\r\n    // show an error message\r\n        return (\r\n            <View>\r\n            <Text>Error: {error.message}</Text>\r\n            </View>\r\n        );\r\n    }\r\n    else if (!isLoaded) {\r\n    // show the ActivityIndicator (spinner)\r\n        return (\r\n            <View>\r\n            <Text>Preparing...</Text>\r\n            <ActivityIndicator size=\"large\" color=\"#ffffff\"/>\r\n            </View>\r\n        );\r\n    }\r\n    else if (dataResult === []) {\r\n    // not an error but no meals, so show a message\r\n        return (\r\n            <View>\r\n            <Text>There are no records found for this search</Text>\r\n            </View>\r\n        );\r\n    }\r\n    else {\r\n    // show the data in the flat list and display data on CategoryLayout.js\r\n        return (\r\n            <ScrollView>\r\n            <View style={styles.container}>\r\n                <FlatList\r\n                    data={dataResult}\r\n                    renderItem={renderItem}\r\n                    keyExtractor={item => item.id}\r\n                />\r\n            </View>\r\n            </ScrollView>\r\n        );\r\n    }\r\n\r\n}"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;;;AAEA,SAAQC,IAAR,QAAmB,uBAAnB;AACA,SAASC,WAAT;;;AAEA,eAAe,SAASC,UAAT,OAAyC;EAAA,IAApBC,KAAoB,QAApBA,KAAoB;EAAA,IAAbC,UAAa,QAAbA,UAAa;EAEpD,IAAQC,QAAR,GAAqBF,KAAK,CAACG,MAA3B,CAAQD,QAAR;;EAEA,gBAA0BN,QAAQ,CAAC,IAAD,CAAlC;EAAA;EAAA,IAAOQ,KAAP;EAAA,IAAcC,QAAd;;EACA,iBAAgCT,QAAQ,CAAC,KAAD,CAAxC;EAAA;EAAA,IAAOU,QAAP;EAAA,IAAiBC,WAAjB;;EACA,iBAAoCX,QAAQ,CAAC,EAAD,CAA5C;EAAA;EAAA,IAAOY,UAAP;EAAA,IAAmBC,aAAnB;;EAEAd,SAAS,CAAC,YAAM;IACZG,WAAW,CAACI,QAAD,CAAX,CACCQ,IADD,CAEI,UAACC,MAAD,EAAY;MACR,IAAGA,MAAM,KAAKC,SAAd,EAAyB;QACrBC,OAAO,CAACC,GAAR,CAAYH,MAAZ;MAEH,CAHD,MAGO;QACHF,aAAa,CAAC,EAAD,CAAb;MACH;IACJ,CATL,EAUI,UAACL,KAAD,EAAW;MACPS,OAAO,CAACC,GAAR,CAAY,YAAYV,KAAxB;IACH,CAZL;EAeH,CAhBQ,CAAT;EAkBA,OACI,KAAC,IAAD;IAAA,UACI,KAAC,IAAD;MAAA;IAAA;EADJ,EADJ;AAMH;;AAED,SAASW,aAAT,CAAuBX,KAAvB,EAA8BE,QAA9B,EAAwCE,UAAxC,EAAoDP,UAApD,EAAgE;EAC5D,IAAMe,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAU;IACzB,KAAC,cAAD;MAAgB,QAAQ,EAAEA,IAA1B;MAAgC,YAAY,EAAEhB;IAA9C;EACH,CAFD;;EAIA,IAAIG,KAAJ,EAAW;IAEP,OACI,KAAC,IAAD;MAAA,UACA,MAAC,IAAD;QAAA,sBAAcA,KAAK,CAACc,OAApB;MAAA;IADA,EADJ;EAKH,CAPD,MAQK,IAAI,CAACZ,QAAL,EAAe;IAEhB,OACI,MAAC,IAAD;MAAA,WACA,KAAC,IAAD;QAAA;MAAA,EADA,EAEA,KAAC,iBAAD;QAAmB,IAAI,EAAC,OAAxB;QAAgC,KAAK,EAAC;MAAtC,EAFA;IAAA,EADJ;EAMH,CARI,MASA,IAAIE,UAAU,KAAK,EAAnB,EAAuB;IAExB,OACI,KAAC,IAAD;MAAA,UACA,KAAC,IAAD;QAAA;MAAA;IADA,EADJ;EAKH,CAPI,MAQA;IAED,OACI,KAAC,UAAD;MAAA,UACA,KAAC,IAAD;QAAM,KAAK,EAAEW,MAAM,CAACC,SAApB;QAAA,UACI,KAAC,QAAD;UACI,IAAI,EAAEZ,UADV;UAEI,UAAU,EAAEQ,UAFhB;UAGI,YAAY,EAAE,sBAAAC,IAAI;YAAA,OAAIA,IAAI,CAACI,EAAT;UAAA;QAHtB;MADJ;IADA,EADJ;EAWH;AAEJ"},"metadata":{},"sourceType":"module"}